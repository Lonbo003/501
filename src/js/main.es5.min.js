"use strict";function DeepClone(n){return JSON.parse(JSON.stringify(n))}var app=new Vue({el:"#app",data:{baseData:baseData,totalBet:0,select:{cz:0,type:0,subtype:0},czlist:[],typelist:[],Numlist:[],WZlist:[],Clist:[],sd_Numlist:[],sd_WZlist:[],sd_Clist:[],sd_Betlist:[],addBetlist:!1},computed:{subDetail:function(){return this.ready?this.baseData[this.select.cz].data[this.select.type].data[this.select.subtype]:{}},ready:function(){return this.czlist.length>0&&this.typelist.length>0},selectIndexs:function(){return[this.select.cz,this.select.type,this.select.subtype]},selectNames:function(){return[this.baseData[this.select.cz].cnName,this.baseData[this.select.cz].data[this.select.type].cnName,this.baseData[this.select.cz].data[this.select.type].data[this.select.subtype].cnName]}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=!0,i=!1,r=undefined,n,u,f;try{for(n=this.baseData[Symbol.iterator]();!(t=(u=n.next()).done);t=!0)f=u.value,this.czlist.push(f.cnName)}catch(e){i=!0;r=e}finally{try{!t&&n["return"]&&n["return"]()}finally{if(i)throw r;}}this.selectMode("cz",0)},selectMode:function(n,t){var i,o,u;if(n=="cz"){typeof t=="string"&&(t=this.baseData.findIndex(function(n){return new RegExp(n.enName+"$").test(t)}));this.select.cz=t;this.typelist=[];var r=!0,f=!1,e=undefined;try{for(i=this.baseData[this.select.cz].data[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)u=o.value,u.cnName!=""&&this.typelist.push(u.cnName)}catch(s){f=!0;e=s}finally{try{!r&&i["return"]&&i["return"]()}finally{if(f)throw e;}}this.selectMode("type",0)}else n=="type"?(this.select.type=t,this.selectMode("subtype",0)):n=="subtype"&&(this.select.subtype=t,this.buildList())},buildList:function(){var n,r,t,i;if(this.Numlist=[],this.sd_Numlist=[],this.totalBet=0,n=this.subDetail.se,this.subDetail.line>0)for(i=0;i<this.subDetail.line;i++){if(r=[],typeof n[0]=="number"&&typeof n[1]=="number")for(t=n[0];t<=n[1];t++)r.push(t);else if(typeof n[0]=="string"&&typeof n[1]=="string")for(t=parseInt(n[0]);t<=parseInt(n[1]);t++)r.push(""+(t.toString().length==1?"0":"")+t.toString());this.Numlist.push(r);this.sd_Numlist.push([])}if(this.WZlist=[],this.sd_WZlist=[],this.subDetail.hasOwnProperty("WZlist")&&(this.WZlist=DeepClone(this.subDetail.WZlist)),this.Clist=[],this.sd_Clist=[],this.subDetail.hasOwnProperty("Clist"))for(i=0;i<this.subDetail.Cline;i++)this.Clist.push(DeepClone(this.subDetail.Clist)),this.sd_Clist.push([])},selectNum:function(n,t,i){this.sd_Numlist[t].indexOf(n)>-1?this.sd_Numlist[t].splice(this.sd_Numlist[t].indexOf(n),1):this.sd_Numlist[t].push(n);this.sd_Numlist[t].sort(function(n,t){return n-t});i&&this.sp_totalBet()},selectWZ:function(n){this.sd_WZlist.indexOf(n)>-1?this.sd_WZlist.splice(this.sd_WZlist.indexOf(n),1):this.sd_WZlist.push(n);this.totalBet=this.subDetail.func(this.sd_Numlist,this.sd_WZlist)},selectC:function(n,t){this.sd_Clist[t].indexOf(n)>-1?this.sd_Clist[t].splice(this.sd_Clist[t].indexOf(n),1):this.sd_Clist[t].push(n);this.sp_totalBet()},sp_totalBet:function(){this.totalBet=this.subDetail.hasOwnProperty("WZlist")?this.subDetail.func(this.sd_Numlist,this.sd_WZlist):this.subDetail.hasOwnProperty("Clist")?this.subDetail.func(this.sd_Numlist,this.sd_Clist):this.subDetail.func(this.sd_Numlist)},sp_Numlist:function(n,t){var i=this,u,a,f,s,h,e,v,r;if(t>-1)if(n=="all"){var o=!0,c=!1,l=undefined;try{for(u=this.Numlist[t][Symbol.iterator]();!(o=(a=u.next()).done);o=!0)r=a.value,this.sd_Numlist[t].indexOf(r)==-1&&this.sd_Numlist[t].push(r)}catch(y){c=!0;l=y}finally{try{!o&&u["return"]&&u["return"]()}finally{if(c)throw l;}}this.sd_Numlist[t].sort(function(n,t){return n-t});this.sp_totalBet()}else n=="clear"?(this.sd_Numlist[t].splice(0,this.sd_Numlist[t].length),this.sp_totalBet()):["da","sio","den","dab"].includes(n)&&function(){var o,r,u;i.sp_Numlist("clear",t);o=Math.ceil(i.Numlist[t].length/2)-1;r=n=="da"&&i.Numlist[t].filter(function(n,t){return t>o})||n=="sio"&&i.Numlist[t].filter(function(n,t){return t<=o})||n=="den"&&i.Numlist[t].filter(function(n){return n*1%2==1})||n=="dab"&&i.Numlist[t].filter(function(n){return n*1%2==0});f=!0;s=!1;h=undefined;try{for(e=i.Numlist[t][Symbol.iterator]();!(f=(v=e.next()).done);f=!0)u=v.value,r.indexOf(u)>-1&&i.selectNum(u,t,u==r[r.length-1])}catch(c){s=!0;h=c}finally{try{!f&&e["return"]&&e["return"]()}finally{if(s)throw h;}}}();else for(r=0;r<this.subDetail.line;r++)this.sp_Numlist(n,r)},sp_WZlist:function(n){n=="clear"&&(this.sd_WZlist.splice(0,this.sd_WZlist.length),this.sp_totalBet())},sp_Clist:function(n,t){if(t>-1)n=="clear"&&(this.sd_Clist[t].splice(0,this.sd_Clist[t].length),this.sp_totalBet());else for(var i=0;i<this.subDetail.Cline;i++)this.sp_Clist(n,i)},sp_Betlist:function(n,t,i){var r=this,c,f,e,u,s,o,l,h;if(n=="add")this.totalBet>0?function(){var n=[];[r.sd_WZlist,r.sd_Clist,r.sd_Numlist.map(function(n){return n.length>0?n:"_"})].forEach(function(t){t.length>0&&t.forEach(function(t){n.push(t.toString())})});r.sd_Betlist.push({name:[r.baseData[r.select.cz].cnName,r.subDetail.cnName].join("_"),data:n.join("|"),zhu:r.totalBet});r.sp_Numlist("clear",-1);r.sp_Clist("clear",-1);r.sp_WZlist("clear")}():alert("下注");else if(n=="clear")t>-1?this.sd_Betlist.splice(t,1):this.sd_Betlist.splice(0,this.sd_Betlist.length);else if(n=="fate")if(c=t,c==1){if(f=this.subDetail.func_fate(),f.sd_Numlist.length>0){this.sp_Numlist("clear",-1);for(u in f.sd_Numlist)if(e=f.sd_Numlist[u],e.length>0)for(o in e)this.selectNum(this.Numlist[u][e[o]],u,!0)}if(f.sd_WZlist.length>0){this.sp_WZlist("clear");for(u in f.sd_WZlist)this.selectWZ(this.WZlist[f.sd_WZlist[u]],u,u==f.sd_WZlist.length-1)}if(f.sd_Clist.length>0){this.sp_Clist("clear",-1);for(u in f.sd_Clist)if(s=f.sd_Clist[u],s.length>0)for(o in s)this.selectC(this.Clist[u][s[o]],u,u==f.sd_Clist.length-1)}i&&this.sp_Betlist("add")}else for(l=function(){var n=r.subDetail.func_fate(),f=function(t){n[t].length>0&&(n[t]=Array.isArray(n[t][0])?n[t].map(function(n){return n.map(function(n){return r[t.replace("sd_","")][0][n]})}):n[t].map(function(n){return r[t.replace("sd_","")][n]}))},u,t,i;for(u in n)f(u);t=[];[n.sd_WZlist,n.sd_Clist,n.sd_Numlist.map(function(n){return n.length>0?n:"_"})].forEach(function(n){n.length>0&&n.forEach(function(n){t.push(n.toString())})});i=0;i=r.subDetail.hasOwnProperty("WZlist")?r.subDetail.func(n.sd_Numlist,n.sd_WZlist):r.subDetail.hasOwnProperty("Clist")?r.subDetail.func(n.sd_Numlist,n.sd_Clist):r.subDetail.func(n.sd_Numlist);r.sd_Betlist.push({name:[r.baseData[r.select.cz].cnName,r.subDetail.cnName].join("_"),data:t.join("|"),zhu:i})},h=0;h<c;h++)l(h)}}});